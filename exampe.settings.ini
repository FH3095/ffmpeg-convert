[DEFAULT]
Log=_log.txt
PrependToCmd=-threads 2 -y -hide_banner -loglevel level+warning
AppendToCmd=-map_metadata:g -1
InDir=C:\videoencode\in
OutDir=C:\videoencode\out
TmpDir=C:\videoencode\tmp
FFmpegPath="C:\videoencode\ffmpeg\bin\ffmpeg.exe"
# Start this many instances to process multiple files parallel
FFmpegInstances=2
# Allowed options for metadataConvert: yes/no/ask
MetadataConvert=ask
MetadataExtract=-y -i "{INPUT_FILE}" -f ffmetadata "{METADATA_FILE}"
MetadataInsert=-loglevel level+warning -y -i "{TEMP_FILE}" -i "{METADATA_FILE}" -map_metadata 1 -codec copy "{OUTPUT_FILE}"
MetadataCopy=album track title genre artist date album_artist

[AudioOpus]
Cmd=-i "{INPUT_FILE}" -codec:a libopus -ac 2 -b:a 96k -vn
FileEnding=opus

[MostlyStaticVideo]
Cmd=-i "{INPUT_FILE}" -codec:a libopus -ac 2 -b:a 96k -codec:v libvpx-vp9 -crf 40 -b:v 0 -fpsmax 25
FileEnding=webm

# For now dont use two-pass. Need to adopt passlogfile-Parameter otherwise ffmpeg-instances will overwrite other instances pass-1-logfiles
#[StaticVideoArchive]
#Cmd=-i "{INPUT_FILE}" -an -codec:v libvpx-vp9 -crf 30 -b:v 0 -fpsmax 25 -pass 1 -f null NUL && {FFMPEG_PATH} -threads 2 -y -hide_banner -loglevel level+warning -i "{INPUT_FILE}" -codec:a libopus -ac 2 -b:a 96k -codec:v libvpx-vp9 -crf 30 -b:v 0 -fpsmax 25 -pass 2
#FileEnding=webm
